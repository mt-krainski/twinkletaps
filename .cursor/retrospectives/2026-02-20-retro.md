# Retrospective — 2026-02-20

**Period:** ~Feb 13–20, 2026
**Conversations analyzed:** 20 (out of 46 extracted)

## What's going well

- **Kanban workflow is working.** Tasks move through stages reliably, branches follow naming conventions, PRs get created and linked.
- **Skills are being used proactively.** `executing-plans`, `commit-and-pr`, `finishing-a-development-branch`, and `addressing-pr-comments` invoked without prompting.
- **Agent is responsive to corrections.** Quick pivots on pushback, no defensiveness.
- **Architecture discussions are productive.** Clear option comparisons with tradeoffs and recommendations.
- **Code review integration works well.** PR comments addressed, review feedback incorporated.

## What could be improved

### Theme A: Verification before claiming done (~10/20 conversations)

Agent claims completion without running `npm run test`, `npm run test:e2e`, or `npm run lint`. Tasks moved to `40_review` with tests never executed. The `verification-before-completion` skill exists but was rarely invoked.

### Theme B: Guessing instead of investigating (~5 conversations)

- Server Action error diagnosed as "stale bundle" (real cause: class exported from `"use server"`)
- MQTT `subscribeError()` used — doesn't exist, agent guessed
- Prisma migration created when repo uses Supabase migrations
- "0 exported" explained away without investigating extraction logic

### Theme C: Not checking codebase patterns before implementing (~5 conversations)

- Sidebar imported server action directly instead of injectable props/context
- Used `pnpm` when rules specify `npm`
- Prisma migrations instead of Supabase migrations

### Theme D: Skill reliability and consistency (~4 conversations)

- `addressing-pr-comments` needed multiple retries; user said "re-learn the skill"
- `finishing-a-development-branch` moved task to `50_merged` before PR merged (contradicts `workflow.mdc`)
- Skills and workflow rules had unresolved conflicts (brainstorming commit of gitignored files — since fixed)

### Theme E: Unnecessary confirmations and scope creep (~3 conversations)

- Agent asks "Should I run the test suite now?" when next step is obvious
- Agent adds features not in acceptance criteria

## Past improvement status

First retrospective — no prior actions to evaluate.

## Ideas for improvement

### 1. Wire verification-before-completion into skill chain (IMPLEMENTED)

**Source:** obra/superpowers verification-before-completion skill
**Action:** Added explicit verification skill references to `executing-plans` (Step 4) and `finishing-a-development-branch` (Step 5), with "every claim must be backed by command output" language. Also added `npm run test:e2e` to executing-plans verification checklist.

### 2. Clarify conventions in general.mdc (IMPLEMENTED)

**Action:** Added Supabase migration tooling note to `general.mdc` (DB migrations use Supabase, not Prisma). Package manager (`npm`) was already stated.

### 3. Fix finishing-a-development-branch kanban timing (IMPLEMENTED)

**Source:** Retro finding — skill moved task to `50_merged` before PR merged
**Action:** Changed Step 7 to move task to `40_review` with explicit note that `50_merged` is only after PR is merged to mainline.

### 4. Simplify addressing-PR-comments skill (SKIPPED — stale)

Conversations that showed problems were from while the skill was still being written. Current version may already be better.

### 5. Add "no guessing" rule to general.mdc (IMPLEMENTED)

**Source:** obra/superpowers systematic-debugging ("NO FIXES WITHOUT ROOT CAUSE INVESTIGATION FIRST"), trailofbits/claude-code-config ("verify at every level")
**Action:** Added rule: "Never guess at API signatures, library behavior, migration tooling, or root causes. Always verify by reading source code, checking docs, or running commands first."

## Follow-up actions

All agreed improvements implemented in this session. No deferred actions.
